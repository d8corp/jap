"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es7.symbol.async-iterator"),require("core-js/modules/es6.symbol"),require("core-js/modules/web.dom.iterable");var _typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),yes=function(a){return a},defaultResolve=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;return{success:!0,data:a}},defaultReject=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,b=1<arguments.length?arguments[1]:void 0,c=2<arguments.length?arguments[2]:void 0;return{error:b.message,data:a}};function jap(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:defaultResolve,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:defaultReject,e=4<arguments.length?arguments[4]:void 0,f=5<arguments.length&&arguments[5]!==void 0?arguments[5]:this;!1===c?c=yes:!0===c&&(c=defaultResolve),!1===d?d=yes:!0===d&&(d=defaultReject);var g=(0,_typeof2.default)(a);if("boolean"===g||"number"===g&&!isNaN(a)||"string"===g)return c(a);if("function"===g){var u;try{return u=b instanceof Array?a.apply(f,b):a.call(f,b),u&&u instanceof Object&&"then"in u?(u=u.then(c,function(c){return d(b,c,a)}),e&&e.push(u),u):c(u)}catch(c){return d(b,c,a)}}if("object"===g){if(null===a)return c(null);if(a instanceof Array){var h=!1,j=!0,k=!1,l=void 0;try{for(var m,n,o=a[Symbol.iterator]();!(j=(m=o.next()).done);j=!0)if(n=m.value,b=jap(n,b,yes,function(a,b,c){return h=!0,d(a,b,c)},e,f),h)return b}catch(a){k=!0,l=a}finally{try{j||null==o.return||o.return()}finally{if(k)throw l}}return c(b)}if(b instanceof Array){for(var p=b,q=p.length,r=0;r<q;r++)b[r]=jap(a,b[r],c,d,e,f);return b}if("object"===(0,_typeof2.default)(b)&&null!==b&&(!b.constructor||b.constructor===Object)){var s=function(f){var g=f[0];if(f in Object.prototype||"_"===g||"$"===g)return b[f]=d(b,Error("Undeclared handler"),a),"continue";var h=jap(a[f],b[f],c,d,e,a);if(h&&h instanceof Object&&"then"in h){var i=b[f];h.then(function(a){return b[f]=a},function(c){return b[f]=d(i,c,a[f])})}else b[f]=h};for(var v in b){var t=s(v)}return b}return d(b,Error("Undeclared request"),a)}return d(b,Error("Undeclared handler"),a)}var _default=jap;exports.default=_default;