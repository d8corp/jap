"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=function(r){return r};function e(r){return void 0===r&&(r=null),{success:!0,data:r}}function t(r,e){return{error:e.message,data:r}}exports.default=function n(o,u,a,i,f,c){void 0===u&&(u=null),void 0===a&&(a=e),void 0===i&&(i=t),void 0===c&&(c=this);var l="boolean"!=typeof a?a:a?e:r;if("boolean"==typeof o||"number"==typeof o&&!isNaN(o)||"string"==typeof o)return l(o);var s="boolean"!=typeof i?i:i?t:r;if("function"==typeof o){var d=void 0;try{return(d=u instanceof Array?o.apply(c,u):o.call(c,u))&&d instanceof Object&&"then"in d?(d=d.then(l,(function(r){return s(u,r,o)})),f&&f.push(d),d):l(d)}catch(r){return s(u,r,o)}}else if("object"==typeof o){if(null===o)return l(null);if(o instanceof Array){for(var v=!1,p=0,y=o;p<y.length;p++){var b=y[p];if(u=n(b,u,r,(function(r,e,t){return v=!0,s(r,e,t)}),f,c),v)return u}return l(u)}if(u instanceof Array){for(var h=u.length,j=0;j<h;j++)u[j]=n(o,u[j],l,s,f,c);return u}if("object"==typeof u&&null!==u&&(!u.constructor||u.constructor===Object)){var O=function(r){var e=r[0];if(r in Object.prototype||"_"===e||"$"===e)return u[r]=s(u,Error("Undeclared handler"),o),"continue";var t=n(o[r],u[r],l,s,f,o);if(t&&t instanceof Object&&"then"in t){var a=u[r];t.then((function(e){return u[r]=e}),(function(e){return u[r]=s(a,e,o[r])}))}else u[r]=t};for(var g in u)O(g);return u}return s(u,Error("Undeclared request"),o)}return s(u,Error("Undeclared handler"),o)},exports.defaultReject=t,exports.defaultResolve=e;
